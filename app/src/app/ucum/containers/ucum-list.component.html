<m-card>
  <div *m-card-header class="m-justify-between">
    <span>{{'web.ucum.list.title' | translate}}</span>

    <div class="m-items-middle">
      <m-input [(ngModel)]="searchInput" twDebounce [debounced]="onSearch" placeholder="marina.ui.inputs.search.placeholder" autofocus/>

      <tw-add-button *twPrivileged="'ucum.CodeSystem.edit'" [routerLink]="['add']">
        {{'web.ucum.form.add-header' | translate}}
      </tw-add-button>
    </div>
  </div>

  <m-backend-table [mResult]="searchResult" [(mQuery)]="query" (mQueryChange)="loadData()" [mLoading]="loading">
    <tr *mTableHead>
      <th mColumnKey="code">{{'entities.ucum.code' | translate}}</th>
      <th mColumnKey="name">{{'entities.ucum.name' | translate}}</th>
      <th mColumnKey="alias">{{'entities.ucum.alias' | translate}}</th>
      <th mColumnKey="rounding">{{'entities.ucum.rounding' | translate}}</th>
      <th mColumnKey="kind">{{'entities.ucum.kind' | translate}}</th>
      <th mColumnKey="definitionUnit">{{'entities.ucum.definitionUnit' | translate}}</th>
      <th mColumnKey="definitionValue">{{'entities.ucum.definitionValue' | translate}}</th>
      <th mColumnKey="period">{{'entities.ucum.period' | translate}}</th>
    </tr>

    <tr *mTableRow="let mu">
      <td><a [routerLink]="[mu.id, ('ucum.CodeSystem.edit' | twHasAnyPrivilege)? 'edit': 'view']">{{mu.code}}</a>
      </td>
      <td>{{mu.names | localName}}</td>
      <td>{{mu.alias | localName}}</td>
      <td>{{mu.rounding}}</td>
      <td>{{mu.kind | localName}}</td>
      <td>{{mu.definitionUnit}}</td>
      <td>{{mu.definitionValue}}</td>
      <td>{{mu.period.lower}}-{{mu.period.upper}}</td>
    </tr>


    <tr *mTableNoData>
      <td colspan="100%">
        <m-no-data></m-no-data>
      </td>
    </tr>
  </m-backend-table>
</m-card>

